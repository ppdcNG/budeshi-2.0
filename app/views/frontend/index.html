<!DOCTYPE html>
<html style='width: 100%'>

<head>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
	<meta charset="utf-8">
	<title>Budeshi 2.0</title>
	<link rel="stylesheet" href="<?php echo $this->absPath?>css/uikit.min.css" />
	<link rel="stylesheet" href="<?php echo $this->absPath?>css/styles.css" />
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.16/b-1.4.2/b-html5-1.4.2/b-print-1.4.2/datatables.min.css"
	/>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />

	<script src="<?php echo $this->absPath?>js/jquery.js"></script>
	<script src="<?php echo $this->absPath?>js/uikit.min.js"></script>
	<script src="<?php echo $this->absPath?>js/uikit-icons.min.js"></script>
	<script src="<?php echo $this->absPath?>js/index1.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.16/b-1.4.2/b-html5-1.4.2/b-print-1.4.2/datatables.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>

	<!--Highcharts-->
	<script src="https://code.highcharts.com/highcharts.js"></script>
	<script src="https://code.highcharts.com/modules/data.js"></script>
	<script src="https://code.highcharts.com/modules/exporting.js"></script>


</head>

<body>
	<nav class="uk-navbar-container uk-navbar-transparent top" uk-sticky uk-navbar>
		<div class="uk-navbar-left uk-padding-small">
			<a href="#" class="uk-link-reset">
				<img src='<?php echo $this->absPath?>images/budeshi.png' width="15%"> Budeshi 2.0
			</a>
		</div>
		<div class='uk-navbar-right'>
			<!-- This is a button toggling the modal -->
			<button class="uk-button uk-button-default uk-margin-small-right uk-text-nowrap" type="button" style='margin: 0 auto' uk-toggle="target: #find-project"><span class=''>Find Projects</span> <span uk-search-icon><span> </button>

			<!-- This is the modal -->
			<div id="find-project" uk-modal='bg-close: false'>
				<div class="uk-modal-dialog uk-modal-body">
					<h2 class="uk-modal-title">Project Finder</h2>
					<form>
					<div class="filter-param uk-panel uk-placeholder">
						<div class='mda uk-margin'>
							<button class="uk-button uk-button-default uk-width-1-1" type="button">Ministries, Departments, Agencies</button>
							<div uk-dropdown="pos: bottom-justify; boundary: .mda; boundary-align: true; mode: click">
								<ul class="uk-nav uk-dropdown-nav">
									<li class="uk-active"><a href="#">Choose MDA</a></li>
									<li class="uk-nav-divider"></li>
									<div class="uk-margin">
											<select id='select-mda' class="uk-select" name='organization' style='width: 100%' multiple='multiple'>
												<?php echo $mdas?>
												</select>
											<script type="text/javascript">
													$('#select-mda').select2({
															placeholder: "Search for MDA",
															dropdownParent: $('#find-project')
														});
											</script>
									</div>
								</ul>

							</div>
						</div>

						<div class='uk-child-width-1-2' uk-grid>
							<div class='states'>
								<button class="uk-button uk-button-default" type="button" style='width: 100%'>State</button>
								<div uk-dropdown="pos: bottom-justify; boundary: .filter-param; boundary-align: true; mode: click">
									Choose State
									<hr>
									<div class="uk-margin">
								<select class="uk-select" id='select-state' multiple='multiple' style='width: 100%'>
								<option value = "">Select State</option>
											<option value = "Abia"> Abia</option>
											<option value = "Adamawa"> Adamawa</option>
											<option value = "Akwa Ibom"> Akwa Ibom</option>
											<option value = "Bauchi"> Bauchi</option>
											<option value = "Bayelsa"> Bayelsa</option>
											<option value = "Benue"> Benue</option>
											<option value = "Borno"> Borno</option>
											<option value = "Cross Rive"> Cross River</option>
											<option value = "Delta"> Delta</option>
											<option value = "Ebonyi"> Ebonyi</option>
											<option value = "Edo"> Edo</option>
											<option value = "Ekiti"> Ekiti</option>
											<option value = "Abuja"> Federal Capital Territory (FCT)</option>
											<option value = "Gombe"> Gombe</option>
											<option value = "Imo"> Imo</option>
											<option value = "Jigawa"> Jigawa</option>
											<option value = "Kaduna"> Kaduna</option>
											<option value = "Kano"> Kano</option>
											<option value = "Katsina"> Katsina</option>
											<option value = "Kebbi"> Kebbi</option>
											<option value = "Kogi"> Kogi</option>
											<option value = "Kwara"> Kwara</option>
											<option value = "Lagos"> Lagos</option>
											<option value = "Nasarawa"> Nasarawa</option>
											<option value = "Niger"> Niger</option>
											<option value = "Ogun"> Ogun</option>
											<option value = "Ondo"> Ondo</option>
											<option value = "Osun"> Osun</option>
											<option value = "Oyo"> Oyo</option>
											<option value = "Plateau"> Plateau</option>
											<option value = "Rivers"> Rivers</option>
											<option value = "Sokoto"> Sokoto</option>
											<option value = "Taraba"> Taraba</option>
											<option value = "Yobe"> Yobe</option>
											<option value = "Zamfara"> Zamfara</option>
								</select>
								<script type="text/javascript">
								$('#select-state').select2({
										placeholder: "Search for state",
										dropdownParent: $('#find-project')
									});
								</script>
							</div>
								</div>
							</div>

							<div class='years'>
								<button class="uk-button uk-button-default" type="button" style='width: 100%'>Year</button>
								<div uk-dropdown="pos: bottom-justify; boundary: .filter-param; boundary-align: true; mode: click">
									<ul class="uk-nav uk-dropdown-nav">
										<li class="uk-active"><a href="#">Choose Year</a></li>
										<li class="uk-nav-divider"></li>
										<select id='select-year' class="uk-select" name='organization' style='width: 100%' multiple='multiple'>
											<option value="2014">2014</option>
											<option value="2015">2015</option>
											<option value="2016">2016</option>
											<option value="2017">2017</option>
											<option value="2018">2018</option>
											<option value="2019">2019</option>
											<option value="2020">2020</option>
											<option value="2021">2021</option>
											</select>
										<script type="text/javascript">
												$('#select-year').select2({
														placeholder: "Search for Year",
														dropdownParent: $('#find-project')
													});
										</script>
									</ul>
								</div>
							</div>

							<div class='status'>
								<button class="uk-button uk-button-default" type="button"  style='width: 100%'>Status</button>
								<div uk-dropdown="pos: bottom-justify; boundary: .filter-param; boundary-align: true; mode: click">
									<ul class="uk-nav uk-dropdown-nav">
										<li class="uk-active"><a href="#">Choose status of the project</a></li>
										<li class="uk-nav-divider"></li>
										<div class="uk-margin">
												<select id='select-status' name='status' style='width: 100%' multiple='multiple'>
<option value = "N/A">Not Assigned</option>
										<option value ="Active-Incomplete">Active Incomplete</option>
										<option value ="Inactive-Complete">Inactive but Complete</option>
										<option value ="Active-Complete"> Active and Incomplete</option>
										<option value ="Inactive-Incomplete">Inactive and Incomplete</option>
</select>
												<script type="text/javascript">
														$('#select-status').select2({
																placeholder: "Select status",
																dropdownParent: $('#find-project')
															});
												</script>
												<p class='uk-text-meta uk-text-break'>
													please note that projects that have Status "Not Available" have not been <br>verified by us or have not reach the implementation stage
													<p>
										</div>
									</ul>
								</div>
							</div>

														<div class='Visited'>
															<button class="uk-button uk-button-default" type="button"  style='width: 100%'><span class='uk-visible@l'>Visited by Us</span><span class='uk-hidden@l'>Visited</span></button>
															<div uk-dropdown="pos: bottom-justify; boundary: .filter-param; boundary-align: true; mode: click">
																<ul class="uk-nav uk-dropdown-nav">
																	<li class="uk-active"><a href="#"></a></li>
																	<li class="uk-nav-divider"></li>
																	<div class="uk-margin">
																		<div class="uk-margin">
														            <select class="visit"  id='select-monitored' name='visit' style='width: 100%'>
														                <option value='no'>No</option>
														                <option value='yes'>Yes</option>
														            </select>
														        </div>
																	</div>
																</ul>
															</div>
														</div>
							<div class='contractors  uk-width-1-1'>
								<button class="uk-button uk-button-default" type="button"  style='width: 100%'>Contractor</span></button>
								<div uk-dropdown="pos: bottom-justify; boundary: .filter-param; boundary-align: true; mode: click">
									<ul class="uk-nav uk-dropdown-nav">
										<li class="uk-active"><a href="#">Choose Contractor</a></li>
										<li class="uk-nav-divider"></li>
										<div class="uk-margin">
												<select id='select-org' class="uk-select" name='organization' style='width: 100%' multiple>
                                                </select>
										</div>
									</ul>
								</div>
							</div>
						</div>

						<div class="uk-margin uk-child-width-1-1">
							<div class="uk-search uk-search-default">
								<a href="" class="uk-search-icon-flip" uk-search-icon></a>
								<input id="search-text" class="uk-search-input" type="search" placeholder="Search Title">
							</div>
						</div>
					</div>
					<p class="uk-text-right">
						<button class="uk-button uk-button-default uk-modal-close uk-float-left" type="button">Cancel</button>
					<button class="uk-button uk-button-primary uk-modal-close" type="button" id="finderFind">Find</button>
					</p>
				</form>
				</div>
			</div>
		</div>
	</nav>


	<hr>

	<div class='uk-container'>
		<div>
			<div uk-grid>
				<div class="uk-width-auto@m">
					<ul class="uk-tab-left" uk-tab="connect: #component-tab-left; animation: uk-animation-fade">
						<li><a href="#">Overview</a></li>
						<li><a href="#">Tables</a></li>
						<li><a href="#">Charts</a></li>
					</ul>
				</div>
				<div class="uk-width-expand@m">
					<ul id="component-tab-left" class="uk-switcher back">
						<li>
							<div id='projects-cards'>
								<div class='general-info'>
									<ul uk-accordion="multiple: true">
										<li class="uk-open">
											<h3 class="uk-accordion-title">Number of Projects</h3>
											<div class="uk-accordion-content">
												<h1 id="num_project" class="uk-heading-hero">
													<?php echo $number; ?>
												</h1>
											</div>
										</li>
										<li>
											<h3 class="uk-accordion-title">Amounts</h3>
											<div class="uk-accordion-content">
												<div class="uk-column-1-3 uk-column-divider">
													<div>
														<h4 class="uk-heading-bullet">Lowest Amount</h4>
														<p><strong>
															&#8358;<span id = "min"><?php echo $lowest?></span>
														</strong>
														</p>
													</div>

													<div>
														<h4 class="uk-heading-bullet">Average Amount</h4>
														<p>
															<strong>
																&#8358;<span id = "avg"><?php echo $average;?></span>
															</strong>
														</p>
													</div>

													<div>
														<h4 class="uk-heading-bullet">Highest Amount</h4>
														<p>
															<strong>
																&#8358; <span id = "max"><?php echo $highest?></span>
															</strong>
														</p>
													</div>
												</div>
											</div>
										</li>
									</ul>
								</div>
								<hr>
								<div id="cards" class='uk-grid-match uk-child-width-1-4@l uk-child-width-1-3@m uk-child-width-1-2@s uk-padding-small' uk-grid>
									<?php echo $project_card;?>
								</div>
								<ul class="uk-pagination uk-flex-center uk-margin" uk-margin>
									<li id="prev"><button id = "prvbtn"  onclick="prev()" disabled><span uk-pagination-previous>Prev</span></button></li>
									<li class="paglinks pageactive">1</li>
									<li class="paglinks">2</li>
									<li class="paglinks">3</li>
									<li class="paglinks">4</li>
									<li class="paglinks">5</li>
									<li class="paglinks">6</li>
									<li class="paglinks">7</li>
									<li class="paglinks">8</li>
									<li class="paglinks">9</li>
									<li id="next" ><button id = "nxtbtn"  onclick="next()"><span uk-pagination-next>Next</span></button></li>
							</div>
						</li>
						<li>
							<div id='ov-table'>
								<div class="uk-overflow-auto">
									<table id="bud-table" class="uk-table uk-table-small uk-table-divider">
										<thead>
											<tr>
												<th>Title</th>
												<th>Location</th>
												<th>Contractor</th>
												<th>Contract Amount</th>
												<th>Budget Amount</th>
												<th>Year</th>
												<th>MDA</th>
												<th>Status</th>
												<th>Monitored</th>
											</tr>
										</thead>
										<tbody>
											<?php echo $project_table; ?>
										</tbody>
									</table>
								</div>
							</div>

						</li>
						<li>
							<div class='charts'>
								<div class='uk-child-width-1-2' uk-grid>
									<div class="uk-margin">
										<div class="uk-form-controls">
											<select onchange="handleChartChange()" id="chart-type" class="uk-select" id="form-stacked-select">
											<option value = "area">Area</option>
											<option value ="line">Line</option>
											<option value = "bar">Bar</option>
											<option value = "column" selected>Column</option>
										</select>
										</div>
									</div>
									<div>
										<div class="uk-form-controls">
											<select onchange="handleChartChange()" id="by" class="uk-select" id="form-stacked-select">
											<option value = "year">Year</option>
											<option value = "state">State</option>
											<option value = "short_name" selected>MDA</option>
										</select>
										</div>
									</div>
								</div>
								<div id="charts-container">

								</div>
								<div id="amount-chart">

								</div>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<div id="modal-center" class="uk-flex-top" uk-modal='bg-close: false'>
	    <div class="uk-modal-dialog uk-modal-body uk-position-center trans-back uk-light">

					<div class="loading-pulse">

		</div>

	    </div>
	</div>
	<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDhIkwKhcGrtLh3Ld2MC7PZmNwIma3R5pE&callback=initMap">

	</script>
	<script>
										$(document).ready(function () {
											table = $("#bud-table").DataTable({
												dom: 'Bfrtip',
												
												buttons: ["copy", "csv", "pdf"],
												ordering: false
											});
										});
	</script>
	<script src="<?php echo $this->absPath?>js/budeshi.js"></script>
	<script src='<?php echo $this->absPath?>js/map.js'></script>

</body>

</html>